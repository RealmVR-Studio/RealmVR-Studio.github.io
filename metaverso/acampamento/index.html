<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js/aframe.min.js"></script>
    <title>Acampamento VR</title>
    <style>
      #development-warning {
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translateX(-50%);
        padding: 10px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 5px;
        z-index: 9999;
        font-family: Arial, sans-serif;
        font-size: 2em;
      }
    </style>
  </head>
  
  <body>
    <div id="development-warning">Em Projeto v0.0.6-pre.alpha</div>

    <a-scene>
      <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="100" color="#004f18"></a-plane>
      <a-sky color="#141d38" src="assets/star-sky-texture.jpg"></a-sky>
      <a-sphere position="20 100 -30" radius="2" src="assets/moon-texture.jpg"></a-sphere>
      <a-light type="ambient" color="#445451"></a-light>
      <a-entity id="forest"></a-entity>
      <a-camera position="0 1.6 10"></a-camera>

      <a-sphere position="0 0 0" color="#ff5930" radius="0.5"></a-circle>
      <a-light type="point" position="0 1 0" intensity="2" distance="10" color="#ff9d00"></a-light>
      
      <a-box position="-2 0.25 0" rotation="0 0 0" width="1" height="0.5" depth="1" color="#8B4513"></a-box>
      <a-box position="2 0.25 0" rotation="0 0 0" width="1" height="0.5" depth="1" color="#8B4513"></a-box>
      <a-box position="0 0.25 2" rotation="0 0 0" width="1" height="0.5" depth="1" color="#8B4513"></a-box>
      <a-box position="0 0.25 -2" rotation="0 0 0" width="1" height="0.5" depth="1" color="#8B4513"></a-box>
      
      <a-camera position="0 1.78 5"></a-camera>
      <a-sound src="assets/lofi-forest-friends.wav" autoplay="true" loop="true"></a-sound>
    </a-scene>

    <script>

      const campCenterX = 0;
      const campCenterZ = 0;
      let treeCount = 10;
      let bushCount = 10;
      let twigCount = 5;
      
      for(let ring = 1; ring <= 5; ring++){
          let radius = ring * 10; 

          for(let i = 0; i < treeCount; i++){
              let angle = (i / treeCount) * Math.PI * 2;
              let x = campCenterX + radius * Math.cos(angle);
              let z = campCenterZ + radius * Math.sin(angle);
              let tree = document.createElement('a-entity');
              tree.innerHTML = `
                  <a-cylinder position="${x} 3 ${z}" radius="0.5" height="6" color="#8B4513"></a-cylinder>
                  <a-cone position="${x} 6 ${z}" radius="2" height="3" color="#006400"></a-cone>
                  <a-cone position="${x} 5 ${z}" radius="2" height="4" color="#006400"></a-cone>
              `;
              document.querySelector('a-scene').appendChild(tree);
          }
          treeCount *= 1.5;
          
          for(let i = 0; i < bushCount; i++){
              let angle = 3 + (i / bushCount) * Math.PI * 2;
              let x = campCenterX + (radius + 1) * Math.cos(angle);
              let z = campCenterZ + (radius + 1) * Math.sin(angle);
              let bush = document.createElement('a-sphere');
              bush.setAttribute('position', `${x} 0.5 ${z}`);
              bush.setAttribute('radius', '1');
              bush.setAttribute('color', 'green');
              document.querySelector('a-scene').appendChild(bush);
          }

          bushCount *= 1.5;
          
          for(let i = 0; i < twigCount; i++){
              let angle = (i / twigCount) * Math.PI * 2;
              let x = campCenterX + (radius - 1) * Math.cos(angle);
              let z = campCenterZ + (radius - 1) * Math.sin(angle);
              let twig = document.createElement('a-cylinder');
              twig.setAttribute('position', `${x} 0.1 ${z}`);
              twig.setAttribute('radius', '0.05');
              twig.setAttribute('height', '2');
              twig.setAttribute('color', '#8B4513');
              twig.setAttribute('rotation', `0 0 ${Math.random() * 360}`);
              document.querySelector('a-scene').appendChild(twig);
          }
          twigCount *= 1.5;
      }
    </script>
  </body>
  
</html>
